{% extends "base.html" %}
{% block title %}Admin Panel{% endblock %}
{% block content %}
<div class="card">
  <span class="badge badge-red">A01 ‚Äì Broken Access Control</span>
  <span class="badge badge-red">A02 ‚Äì PII Exposure</span>
  <h2>üîê Admin Panel</h2>
  <div class="flag-box" style="margin-bottom:20px;">
    <p style="font-size:0.78rem;color:#888;margin-bottom:4px;">SESSION FORGERY FLAG:</p>
    <span class="flag-value">{{ admin_flag }}</span>
  </div>
  <table>
    <tr><th>ID</th><th>Username</th><th>Email</th><th>SSN ‚ö†Ô∏è</th><th>Balance</th><th>Role</th></tr>
    {% for u in users %}
    <tr>
      <td>{{ u.id }}</td><td>{{ u.username }}</td><td>{{ u.email }}</td>
      <td style="color:#e63946;font-family:monospace;">{{ u.ssn }}</td>
      <td style="color:#4ade80;">${{ "%.2f"|format(u.balance) }}</td>
      <td><span class="badge {% if u.role=='admin' %}badge-red{% else %}badge-blue{% endif %}">{{ u.role }}</span></td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
